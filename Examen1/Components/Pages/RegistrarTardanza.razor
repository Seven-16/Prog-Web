@page "/registrar-tardanza"
@inject TardanzaServicio TardanzaServicio
@inject NavigationManager NavigationManager
@rendermode InteractiveServer

<h2>Nueva Tardanza</h2>

<EditForm Model="@nuevaTardanza" OnValidSubmit="GuardarTardanza">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="matricula">Matricula</label>
        <InputText id="matricula" @bind-Value="nuevaTardanza.Estudiantes.Matricula" class="form-control" />
    </div>
    <div class="form-group">
        <label for="nombre">Nombre</label>
        <InputText id="nombre" @bind-Value="nuevaTardanza.Estudiantes.Nombre" class="form-control" />
    </div>
    <div class="form-group">
        <label for="apellido">Apellido</label>
        <InputText id="apellido" @bind-Value="nuevaTardanza.Estudiantes.Apellido" class="form-control" />
    </div>
    <div class="form-group">
        <label for="curso">Curso</label>
        <InputText id="curso" @bind-Value="nuevaTardanza.Estudiantes.Curso" class="form-control" />
    </div>
    <div class="form-group">
        <label for="motivo">Motivo</label>
        <InputTextArea id="motivo" @bind-Value="nuevaTardanza.Motivo" class="form-control" />
    </div>
</EditForm>

<button class="btn btn-primary" @onclick="GuardarTardanza">Guardar</button>

@code
{
    private Tardanza nuevaTardanza = new Tardanza
    {
        Estudiantes = new Estudiantes()
    };
    private void GuardarTardanza()
    {
        TardanzaServicio.RegistrarTardanza(nuevaTardanza);
        NavigationManager.NavigateTo("");
    }
}

