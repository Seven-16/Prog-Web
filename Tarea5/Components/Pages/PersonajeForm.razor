@page "/personajes"
@inject AppDbContext DbContext

<EditForm Model="@personaje" OnValidSubmit="Guardar">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="nombre">Nombre:</label>
        <InputText id="nombre" @bind-Value="personaje.Nombre" class="form-control" />
    </div>

    <div class="form-group">
        <label for="alias">Alias:</label>
        <InputText id="alias" @bind-Value="personaje.Alias" class="form-control" />
    </div>

    <div class="form-group">
        <label for="rol">Rol en el juego:</label>
        <InputText id="rol" @bind-Value="personaje.Role" class="form-control" />
    </div>

    <div class="form-group">
        <label for="habilidad">Habilidad especial:</label>
        <InputText id="habilidad" @bind-Value="personaje.HabilidadEspecial" class="form-control" />
    </div>

    <div class="form-group">
        <label for="arma">Arma favorita:</label>
        <InputText id="arma" @bind-Value="personaje.ArmaFavorita" class="form-control" />
    </div>

    <div class="form-group">
        <label for="poder">Nivel de poder (1-100):</label>
        <InputNumber id="poder" @bind-Value="personaje.PowerLevel" class="form-control" />
    </div>

    <div class="form-group">
        <label for="imagen">Imagen del personaje (URL):</label>
        <InputText id="imagen" @bind-Value="personaje.PersonajeImg" class="form-control" />
    </div>

    <button type="submit" class="btn btn-primary">Guardar</button>
</EditForm>

@code{
    private Personaje personaje = new Personaje();

    private async Task Guardar(){
        DbContext.Personajes.Add(personaje);
        await DbContext.SaveChangesAsync();
    }
}